<html>
 <head>
  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">
  <link rel="stylesheet" href="/snapshot/snapshot-all.min.css" />
  <script src="/snapshot/snapshot-all.min.js"></script>
  <style>
   body { font-family: 'Permanent Marker' }
   #label1, #label2 {
       display: block;
       padding: 1em; 
   }
   #switch2 div:first-child > label:before {
       background: dodgerblue;
   }
  </style>
  </head>
  <body>
   <script>
      class SwitchExample {
          handleSwitchChange() {
              this.label.label = this.model.toJSON();
          }
          generateExample(switchId, labelId) {
              let switchEl = new HandstandSwitch({
                  id: switchId,
                  monitor: 'true',
                  twoway: 'true'
              }),
              label = new HandstandLabel({
                  id: labelId,
                  label: switchEl.model.toJSON()
              });
              switchEl.on('change', this.handleSwitchChange.bind({
                  label: label,
                  model: switchEl.model
              }));
              document.querySelector('body').append(switchEl);
              document.querySelector('body').append(label);            
          }
          provide() {
              this.generateExample('switch1', 'label1');
              this.generateExample('switch2', 'label2');
          }
      }
      document.addEventListener("DOMContentLoaded", function() {
          (new SwitchExample()).provide();
      });
   </script>
 </body>
</html>